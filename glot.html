<!DOCTYPE html>
<html>
<head>
	<!--
		This is a very early version of what will become WebGLot - a WebGL-
		based plotting library for mathematical primitives.
	-->
	<title>WebGLot Alpha</title>
	
	<!--
		This is a matrix library I have been using for the time being, though
		I may move to something more standard.  I originally got this code from
		http://webkit.org/blog/603/webgl-now-available-in-webkit-nightlies/
	-->
	<script src="CanvasMatrix.js"> </script>
	
	<!--
		These are the class files used in WebGLot. I'm not really an expert
		in JavaScript, and would prefer an analog to the #include macro in
		C++ for this task so that only one script must be included.  For the
		time being, just copy-and-paste this.
	-->
	<script src="ray.js">       </script>
	<script src="primitive.js"> </script>
	<script src="stopwatch.js"> </script>
	<script src="screen.js">    </script>
	<script src="surface.js">   </script>
	<script src="p_surface.js"> </script>
	<script src="grapher.js">   </script>

	<script>
	function start() {
		/* Instantiate a grapher
		 *
		 * In the C++ version, it's a singleton, and so it's possible that
		 * this interface will change, so use with caution.
		 */
		var glot = new grapher();
		
		// You can add new primitives to the display with the add function.
		glot.add(new surface(glot.getContext(), "sin(sqrt(x * x + y * y) + t)"));
		//glot.add(new p_surface(glot.getContext(), "2.0 * 6.3 * v, 3.0 + sin(6.3 * v) + cos(6.3 * u), sin(6.3 * u) + 2.0 * cos(6.3 * v)"));
		
		/* This is not really in keeping with the traditional OpenGL way of
		 * performing animation, but it seems as if this is the standard way
		 * of doing this in WebGL at this point.  Again, this may be moved
		 * to the grapher class, as in OpenGLot.  In that case, it will be
		 * accessed differently.
		 */
		var f = function() { glot.reshape(); glot.display() };
		setInterval(f, 10);
	}
	</script>
	
	<style type="text/css">
	canvas {
		border: 1px solid black;
		width:90%;
		height:90%;
	}
	</style>
</head>
<body onload="start()">
	<!--
		WebGLot currently requires there to be a canvas with id="glot" to work.
		This will likely remain the default behavior, but there may be a new 
		interface added so that drawing on multiple canvases can take place.
		Though, it's a long way down on the roadmap.
	-->
	<canvas id="glot">It seems you do not have support for WebGL.</canvas>
	<div id="framerate">Framerate: </div>
</body>
</html>
